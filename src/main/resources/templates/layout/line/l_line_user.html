<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="~{comm/layout}">
<head>
<meta charset="UTF-8">
<title>LineUser - 列表</title>
</head>
<body layout:fragment="content">
  <script type="text/javascript">
  $().ready(function(){
	  $("a[id^='delete_user']").click(function(){
		  var lineUserId = $(this).attr("lineUserId");
		  $.ajax({
        type: 'DELETE',
        url: `/line/user/delete/${lineUserId}`,
        dataType: 'json',
        success: (result) =>{
          
        },
        error: function (XMLHttpRequest, textStatus, errorThrown) {
          
        }
      });
	  });
  });
  
  </script>
  <!-- <h1>LineUser - 列表</h1> -->
	<div class="row">
		<div class="col">
			<div class="card">
				<div class="card-header">
					<span class="glyphicon glyphicon-align-justify"></span>LineUser - 列表
				</div>
				<div class="card-body">
					<table class="table table-hover table-responsive-sm">
						<thead class="center">
							<tr>
								<th scope="col">操作</th>
								<th scope="col">姓名</th>
								<th scope="col">是否啟用</th>
								<th scope="col">使用時間</th>
								<th scope="col">建立時間</th>
								<th scope="col">修改時間</th>
							</tr>
						</thead>
						<tbody class="center">
							<tr th:each="user,itemStar:${Users}">
								<th scope="row">
						          <a th:href="@{/line/user/edit/{userId}(userId=${user.userId})}" class="btn btn-success btn-sm">
						          	<span class="glyphicon glyphicon-edit" aria-hidden="true"></span>修改
						          </a>
						          <a th:id="|delete_user_${itemStar.index}|" th:lineUserId="${user.userId}" href="javascript:;" class="btn btn-danger btn-sm">
						          	<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>刪除
						          </a>
								</th>
								<td th:text="${user.userName}">姓名</td>
								<td>
								  <span th:if="${user.isUse}">是</span>
						          <span th:unless="${user.isUse}">否</span>
						        </td>
								<td>
								  <span th:text="${#temporals.format(user.begDt, 'yyyy/MM/dd HH:mm:ss')}"></span> 至
								  <span th:text="${#temporals.format(user.endDt, 'yyyy/MM/dd HH:mm:ss')}"></span>
								</td>
								<td>
								  <span th:text="${#temporals.format(user.createDate, 'yyyy/MM/dd HH:mm:ss')}"></span>
								</td>
								<td>
					        	  <span th:text="${#temporals.format(user.modifyDate, 'yyyy/MM/dd HH:mm:ss')}"></span>
								</td>
							</tr>
						</tbody>
					</table>
                    <div th:if="${Users.totalPages ne 1}" >
                      <div th:replace="~{comm/page :: page01(entity=${Users})}"></div>
                    </div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>